<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Errechnete Geschwindigkeit</title>

<style>
  :root{
    --ink:#000;
    --border:#cbd5e1;
    --bg:#f8fafc;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    color:var(--ink);
    background:var(--bg);
  }

  /* ===== Druck / PDF (A4) ===== */
  @page{
    size: A4;
    margin: 16mm;
  }

  /* ===== ÄUSSERE SEITE (größer für Tablet) ===== */
  .page{
    max-width: 1100px;     /* ← größer als vorher */
    margin: 24px auto;
    padding: 20px;
  }

  /* ===== WEISSE KACHEL ===== */
  .sheet{
    background:#fff;
    border:1px solid var(--border);
    border-radius:12px;
    padding:26px 28px 24px; /* ← mehr Innenabstand */
  }

  /* ===== HEADER ===== */
  .header{
    position: relative;
    height: 36px;
  }
  .logo{
    position:absolute;
    top:0;
    right:0;
    font-weight:700;
    font-size:24px;
    line-height:1.1;
  }

  .title{
    margin-top: 8px;
    font-size: 20px;
    font-weight: 700;
  }

  /* ===== GRID (stabil, kein Ineinanderschieben) ===== */
  .grid{
    display:grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap:16px;
    margin-top:18px;
  }

  label{
    display:block;
    font-size:12px;
    margin-bottom:6px;
  }

  input{
    width:100%;
    height:40px;
    padding:8px 10px;
    border:1px solid var(--border);
    border-radius:8px;
    font: 14px Arial, Helvetica, sans-serif;
    background:#fff;
  }

  /* wichtig gegen WebKit/iPad-Min-Breiten */
  input[type="time"]{
    min-width:0;
  }

  .hint{
    font-size:12px;
    margin-top:6px;
    opacity:.8;
  }

  .actions{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:18px;
  }

  button{
    height:40px;
    padding:0 14px;
    border-radius:8px;
    border:1px solid var(--border);
    background:#fff;
    cursor:pointer;
    font: 14px Arial, Helvetica, sans-serif;
  }
  button.primary{
    border-color:#111;
    background:#111;
    color:#fff;
  }

  .result{
    margin-top:18px;
    border-top:1px dashed var(--border);
    padding-top:14px;
    display:grid;
    gap:8px;
  }

  .row{
    display:flex;
    justify-content:space-between;
    gap:12px;
    font-size:14px;
  }
  .row b{font-weight:700}

  .error{
    margin-top:10px;
    color:#b00020;
    font-size:13px;
    display:none;
  }

  /* ===== DRUCK ===== */
  @media print{
    body{ background:#fff; }
    .page{ margin:0; padding:0; max-width:none; }
    .sheet{ border:none; border-radius:0; padding:0; }
    .actions, .hint { display:none !important; }
    input{ border:1px solid #999; }
  }
</style>
</head>

<body>
  <div class="page">
    <div class="sheet" id="printArea">
      <div class="header">
        <div class="logo">Flughafen Zürich</div>
      </div>

      <div class="title">Errechnete Geschwindigkeit</div>

      <div class="grid">
        <div>
          <label for="start">Start (Zeit)</label>
          <input id="start" type="time" step="1" value="00:00:00" />
          <div class="hint">Format: HH:MM:SS</div>
        </div>

        <div>
          <label for="end">Ende (Zeit)</label>
          <input id="end" type="time" step="1" value="00:00:10" />
          <div class="hint">Format: HH:MM:SS</div>
        </div>

        <div>
          <label for="dist">Distanz (m)</label>
          <input id="dist" type="number" min="0" step="0.01" placeholder="z.B. 120" />
          <div class="hint">Meter (m)</div>
        </div>
      </div>

      <div class="actions">
        <button class="primary" id="calcBtn">Berechnen</button>
        <button id="pdfBtn">Als PDF speichern</button>
        <button id="resetBtn">Zurücksetzen</button>
      </div>

      <div class="error" id="err"></div>

      <div class="result" aria-live="polite">
        <div class="row">
          <span>Dauer</span>
          <b id="durOut">—</b>
        </div>
        <div class="row">
          <span>Errechnete Geschwindigkeit</span>
          <b id="speedOut">—</b>
        </div>
        <div class="row">
          <span>Errechnete Geschwindigkeit (km/h)</span>
          <b id="speedKmhOut">—</b>
        </div>
      </div>
    </div>
  </div>

<script>
  function parseTimeToSeconds(t){
    if(!t) return NaN;
    const p = t.split(":").map(Number);
    if(p.length < 2) return NaN;
    return (p[0]||0)*3600 + (p[1]||0)*60 + (p[2]||0);
  }

  function formatDuration(sec){
    const s = Math.max(0, Math.round(sec));
    const hh = String(Math.floor(s/3600)).padStart(2,"0");
    const mm = String(Math.floor((s%3600)/60)).padStart(2,"0");
    const ss = String(s%60).padStart(2,"0");
    return `${hh}:${mm}:${ss}`;
  }

  function showError(msg){
    const e = document.getElementById("err");
    e.textContent = msg;
    e.style.display = msg ? "block" : "none";
  }

  function calc(){
    showError("");

    const s0 = parseTimeToSeconds(start.value);
    const s1 = parseTimeToSeconds(end.value);
    const dist = Number(dist.value);

    if(!isFinite(dist) || dist <= 0){
      showError("Bitte eine Distanz > 0 m eingeben.");
      return;
    }
    if(!isFinite(s0) || !isFinite(s1)){
      showError("Bitte Start- und Endzeit korrekt eingeben.");
      return;
    }

    let dt = s1 - s0;
    if(dt <= 0) dt += 86400;
    if(dt <= 0){
      showError("Die Dauer muss > 0 Sekunden sein.");
      return;
    }

    const v_ms  = dist / dt;
    const v_kmh = v_ms * 3.6;

    durOut.textContent      = `${formatDuration(dt)} (${dt.toFixed(2)} s)`;
    speedOut.textContent    = `${v_ms.toFixed(3)} m/s`;
    speedKmhOut.textContent = `${v_kmh.toFixed(2)} km/h`;
  }

  calcBtn.onclick = calc;
  pdfBtn.onclick  = () => { calc(); window.print(); };
  resetBtn.onclick = () => {
    start.value="00:00:00"; end.value="00:00:10"; dist.value="";
    durOut.textContent="—"; speedOut.textContent="—"; speedKmhOut.textContent="—";
    showError("");
  };
</script>
</body>
</html>
